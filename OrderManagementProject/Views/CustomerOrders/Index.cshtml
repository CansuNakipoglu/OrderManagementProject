@model IEnumerable<OrderManagementProject.Models.ViewModels.CustomerOrder>

@{
    ViewData["Title"] = "Index";
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.min.js" integrity="sha384-PsUw7Xwds7x08Ew3exXhqzbhuEYmA2xnwc8BuD6SEr+UmEHlX8/MCltYEodzWA4u" crossorigin="anonymous"></script>


<h1 class="p-5">Müşteri Sipariş Yönetimi</h1>


@foreach (var item in Model)
{
    <div class="accordion" id="port-accordion-@item.Customer.Id">
        <div class="accordion-item">
            <h2 class="accordion-header" id="accordion-header-@item.Customer.Id">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-@item.Customer.Id" aria-expanded="false" aria-controls="collapse-@item.Customer.Id">
                    <div class="d-flex justify-content-between">
                        <div class="p-3">Müşteri No: @item.Customer.Id</div>
                        <div class="p-3">Ad Soyad: @item.Customer.FirstName @item.Customer.LastName</div>
                        <div class="p-3">Mail: @item.Customer.Email</div>
                    </div>
                </button>
            </h2>
            <div id="collapse-@item.Customer.Id" class="accordion-collapse collapse" aria-labelledby="accordion-header-@item.Customer.Id" data-bs-parent="#port-accordion-@item.Customer.Id">
                <div class="accordion-body" data-hotspot="@item.Customer.Id">
                    <div class="accordion" id="customer-accordion-@item.Customer.Id">
                        @foreach (var order in item.Orders)
                        {
                            <div class="accordion-item">
                                <div class="accordion-header" id="order-header-@order.Id">
                                    <div class="accordion-button"  aria-controls="order-collapse-@order.Id">
                                        Sipariş No: @order.Id, Ürün adı: @order.ProductName, Fiyatı: @order.Price, Adet: @order.Quantity
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
}

